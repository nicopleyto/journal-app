

<div class = "container">
  <h1 class = "mt-4">Categories</h1>
  <section class = "row row-cols-1 row-cols-md-3 row-cols-sm-2 row-cols-lg-4 g-4">

    <% @categories.each do |category| %>
      
      <div class = "col">

        <div class="card h-100 w-100 my-3">

          <h5 class="card-header"><%= link_to category.title, category, :class => "remove-link-underline"%></h5>
          <div class="card-body d-flex flex-column justify-content-between">
            <p class="card-text"><small><%= category.description %></small></p>
            <h6 class="card-subtitle mb-2 text-muted">Entries: <%= category.entries.count %></h6>
          </div>
          <div class = "list-group d-flex flex-row justify-content-between">
            <%= link_to '', new_category_entry_path(category), :class => "bi bi-plus-square list-group-item-action d-flex justify-content-center py-2 align-items-center remove-link-underline" %>
            <%= link_to '', category, :class => "bi bi-arrows-fullscreen list-group-item-action d-flex justify-content-center py-2 align-items-center remove-link-underline"%>
            <%= link_to '', edit_category_path(category), :class => "bi bi-pencil-square list-group-item-action d-flex justify-content-center py-2 align-items-center remove-link-underline" %>
            <%= link_to '', category, method: :delete, data: { confirm: 'Are you sure?' }, :class => "bi bi-trash-fill list-group-item-action d-flex justify-content-center py-2 align-items-center remove-link-underline" %>
          </div>

          <%# if there is an entry in category, it will be displayed at the bottom of the category card %>
          <%# if category.entries.count > 0 %>
            <%#div class="card-footer text-primary"> Entries: <%= category.entries.count %><%#/div>
              <%#ul class="list-group list-group-flush">

                <%# category.entries.each do |entry| %>
                  <%#li class="list-group-item "><%#=link_to entry.title, category_entry_path(entry.category.id, entry.id)%><%#/li>
                <%#end%>

              <%#/ul>
          <%#end%>

        </div>

      </div>

    <% end %>

    <div class ="col">
      <div class="card h-100 w-100 my-3">
        <%= link_to '+', new_category_path, :class => "remove-link-underline display-4 text-secondary card-body list-group-item-action d-flex align-items-center justify-content-center"%>
      </div>
    </div>


  </section>
</div>